---
title: Versioning
description: How the H.I.V.E. Protocol evolves, manages compatibility, and handles different versions.
icon: Layers
---

The H.I.V.E. Protocol will evolve over time to incorporate new features, optimizations, and security enhancements.
This section outlines the versioning strategy to ensure orderly evolution while maintaining interoperability.

## Semantic Versioning

H.I.V.E. Protocol versions `SHALL` adhere to [Semantic Versioning 2.0.0](https://semver.org/) (SemVer) principles,
using a `MAJOR.MINOR.PATCH` format.

- **`MAJOR` Version (e.g., `1.0.0` -> `2.0.0`)**:
- Incremented for **backward incompatible changes** to the public API (any normative `MUST` or `SHALL` requirement).
- Requires agents to be updated to maintain communication.
- Indicates significant architectural shifts or removal of core features.
- **`MINOR` Version (e.g., `1.0.0` -> `1.1.0`)**:
- Incremented for **backward compatible new functionality** or features introduced.
- Existing agents communicating with an older `MINOR` version `SHOULD` still be able to operate, though they may not
  utilize the new features.
- `MAY` include `PATCH` level changes.
- **`PATCH` Version (e.g., `1.0.0` -> `1.0.1`)**:
- Incremented for **backward compatible bug fixes** or non-breaking improvements.
- These changes are typically internal fixes that do not affect the public API or behavior for compliant agents.

## Protocol Version Declaration

- **`protocol_version` in Message Header**: All H.I.V.E. messages `MUST` include a `protocol_version` field in
  their `header` (e.g., `"protocol_version": "1.0.0"`). This declares the version of the protocol specification the
  message conforms to. (See [Message Formats](/docs/protocol/structure/message-formats)).
- **Agent Capability Advertisement**: Agents `SHOULD` include their supported `protocol_version` ranges or specific
  versions in their [Capability Advertisement](/docs/protocol/structure/capability-advertisement) (e.g., via an OpenAPI extension
  `x-hive-protocol-versions`). This enables discovery services and other agents to filter by compatibility.

## Handling Incompatible Versions

When an agent receives a message with an incompatible `protocol_version` in its header:

- **Major Version Mismatch**: If the `MAJOR` version of an incoming message does not match the recipient agent's
  highest supported `MAJOR` version, the message `MUST` be rejected.
- The recipient `SHOULD` respond with a `Rejection` message containing the `HIVE_G_004: UNSUPPORTED_PROTOCOL_VERSION`
  error code and its highest supported `protocol_version`.
- **Minor/Patch Version Mismatch**: If only the `MINOR` or `PATCH` versions differ (i.e., `MAJOR` versions match),
  the receiving agent `SHOULD` attempt to process the message according to its understanding of the shared `MAJOR` version.
- Agents are encouraged to be lenient in processing messages from slightly older `MINOR` or `PATCH` versions
  within the same `MAJOR` range, as these changes are intended to be backward compatible.
- However, if a specific feature or field required by the recipient is missing due to a `MINOR` or `PATCH` version
  discrepancy, the recipient `MAY` reject the message with an appropriate error
  (e.g., `HIVE_G_002: INVALID_MESSAGE_FORMAT`).

## Future Evolution

- **Deprecation Policy**: When elements of the protocol are deprecated (e.g., a message field, an optional mechanism),
  they `SHALL` be clearly marked as such in the documentation. They `SHOULD` remain supported for at least one `MAJOR`
  version cycle to allow implementers sufficient time to migrate.
- **Extension Points**: H.I.V.E. is designed with extensibility in mind (e.g., OpenAPI extensions, JSON-LD
  extensibility). Implementers `SHOULD` utilize these official extension points for custom functionality rather than
  introducing ad-hoc, breaking changes to core schemas.
