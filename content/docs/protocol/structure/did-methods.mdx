---
title: DID Methods
description: Deep dive into Decentralized Identifiers (DIDs) and their cryptographic underpinnings in H.I.V.E.
icon: KeyRound
---

import { Callout } from "fumadocs-ui/components/callout";

Decentralized Identifiers (DIDs) are fundamental to H.I.V.E. for establishing verifiable and self-sovereign agent
identities. They enable agents to securely identify each other without reliance on central authorities.

## W3C Decentralized Identifiers (DIDs)

- **Standard**: H.I.V.E. agents `MUST` adhere to the [W3C DID Specification](https://www.w3.org/TR/did-core/).
- **Purpose**: DIDs provide a persistent, globally unique identifier for each agent, decoupled from network
  addresses or centralized registries.
- **DID Documents**: Each DID resolves to a DID Document, a JSON-LD data structure containing public keys,
  service endpoints, and other verifiable information about the agent.

## `did:key` Method

- **Primary Method**: The `did:key` method `IS REQUIRED` for H.I.V.E. agent identification as specified in
  the [Discovery & Identity Component](/docs/protocol/layers/discovery-identity).

### Benefits

- **Simplicity**: DIDs are derived directly from a cryptographic public key, requiring no external registry or
  blockchain for creation or resolution.
- **Decentralization**: No single point of failure or control over identity.
- **Portability**: Identities are self-contained and easily transferable.
- **Interoperability**: Compatible with other systems that support the `did:key` method.

### Supported Key Types

H.I.V.E. mandates support for the following cryptographic key types:

- **Ed25519**: `did:key` DIDs generated from Ed25519 public keys
  (e.g., `did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3`).
- **secp256k1**: `did:key` DIDs generated from secp256k1 public keys
  (e.g., `did:key:zQ3shokFTSzpzokHjqCegTHWQmQDGynzbnrdmjrZPNzJLpm4h`).

<Callout type="info">
  The 'z' prefix in the examples above is the multibase prefix indicating
  base58-btc encoding.
</Callout>

## DID Document Resolution

Every `did:key` can be deterministically resolved to a DID Document without needing an external registry.
This DID Document contains the verification methods and service endpoints associated with the agent.

### Example `did:key` DID Document

For a `did:key` generated from an Ed25519 public key, its resolved DID Document would look like this:

```json
{
  "@context": [
    "https://www.w3.org/ns/did/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "id": "did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3",
  "verificationMethod": [
    {
      "id": "did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3#z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3",
      "type": "Ed25519VerificationKey2020",
      "controller": "did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3",
      "publicKeyMultibase": "z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3"
    }
  ],
  "authentication": [
    "did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3#z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3"
  ],
  "assertionMethod": [
    "did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3#z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3"
  ],
  "service": [
    {
      "id": "did:key:z6MkpTHR8bX7N2ZPNvXy5FhMwYWgNrnFQo3PzYtG5N5G4tM3#hive",
      "type": "HIVEAgent",
      "serviceEndpoint": "wss://agent.example.com:8443/hive"
    }
  ]
}
```

## DID Usage in H.I.V.E.

Within the H.I.V.E. Protocol, DIDs are used across multiple components:

### In Discovery & Identity

- **Agent Registration**: Agents register their DIDs with the [Discovery Registry Service](/docs/protocol/layers/discovery-identity#discovery-mechanisms)
- **Capability Advertisement**: [HSDL documents](/docs/protocol/structure/capability-advertisement) are signed using the private key associated with the agent's DID
- **Secure Connection**: The [Noise Protocol handshake](/docs/protocol/layers/discovery-identity#initial-secure-connection-establishment) uses the public keys derived from DIDs for mutual authentication

### In Interaction & Trust

- **Message Authentication**: All [messages](/docs/protocol/structure/message-formats) are signed by the sender's private key and verified using their DID
- **Contract Parties**: DIDs identify the participating agents in [contracts](/docs/protocol/structure/contract)
- **Signatures**: Contract signatures are verified against the signers' DIDs

<Callout type="warning">
  Since `did:key` method does not support key rotation or revocation, agents
  should consider the security implications for long-lived identities. For
  extended interactions, consider using DID methods that support these features.
</Callout>

## Implementation Considerations

- **Key Security**: Private keys associated with DIDs must be securely stored and never exposed
- **Resolution Performance**: Implementations should cache resolved DID Documents for frequently accessed DIDs
- **Verification**: Always verify the authenticity of DIDs and signatures before trusting messages or contracts
- **Interoperability**: When implementing DID resolution, follow the standards precisely to ensure compatibility with other systems

### Key Document Components

- **@context**: JSON-LD contexts defining the vocabulary for DID Documents
- **id**: The DID itself
- **verificationMethod**: Contains the public key information
  - **id**: A unique identifier for the verification method (the DID + a fragment)
  - **type**: The type of cryptographic key (e.g., `Ed25519VerificationKey2020`)
  - **controller**: The DID that controls this verification method
  - **publicKeyMultibase**: The multibase-encoded public key
- **authentication**: References to verification methods that can be used to authenticate as this DID
- **assertionMethod**: References to verification methods that can be used to make verifiable claims
- **service**: Endpoints where the agent can be reached
