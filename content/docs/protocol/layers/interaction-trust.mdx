---
title: Interaction & Trust
description: Governing secure negotiation, execution, and verifiable task completion between agents.
icon: Handshake
---

The H.I.V.E. Interaction & Trust Layer manages the secure and verifiable lifecycle of agent collaborations.
It ensures message authenticity, defines contract negotiation, orchestrates task execution, and guarantees verifiable
delivery of results.

## Message Authentication and Authorization

- **Authentication**:
  - All messages must be cryptographically signed by the sender
  - Recipients verify signatures using the sender's public key
- **Authorization**:
  - Agents enforce access control based on sender identity and requested action
  - [Signed Capabilities](https://ucan.xyz/) (like UCANs) are recommended for granular, delegatable permissions

## Contract Negotiation

- **H.I.V.E. Negotiation Protocol**:
  - Structured protocol with three phases:
    1. **Proposal**: Initiating agent sends offer
    2. **Counter-Proposal**: Optional modifications (may be repeated)
    3. **Acceptance/Rejection**: Final decision
- **Contract Format**:
  - JSON-LD documents using the H.I.V.E. Contract Ontology
  - See [Contract Schema](/docs/protocol/structure/contract) for details
- **Signatures**:
  - All participants must cryptographically sign the final agreement

## Execution Management

- **H.I.V.E. Task Lifecycle**:
  - **Standard**: Tasks `MUST` be executed and monitored through a defined H.I.V.E. Task Lifecycle.
    (See [Task Lifecycle](/docs/protocol/structure/lifecycle) for detailed state transitions).
  - **States**: The lifecycle `SHALL` include standard states: `PROPOSED`, `ACCEPTED`, `IN_PROGRESS`,
    `PAUSED`, `COMPLETED`, `FAILED`, `CANCELLED`.
- **Reporting**:
  - **Status Updates**: Agents `MUST` provide status updates via `TaskStatusUpdate` messages at predefined intervals
    or upon any significant state change.
- **Error Handling**:
  - **Standardized Codes**: Specific error codes and messages `MUST` be defined for common execution failures
    (e.g., `TASK_FAILED_INPUT_INVALID`, `TASK_FAILED_RESOURCE_UNAVAILABLE`). (See [Error Codes](/docs/protocol/structure/error-codes)).

## Delivery & Verification

- **Result Transmission**:
  - **Large Results**: `SHOULD` be transferred via out-of-band mechanisms (e.g., IPFS, S3-compatible storage)
    with a secure link (URI) in the `TaskResult` message.
  - **Small Results**: `MAY` be directly embedded in the `TaskResult` message.
- **Integrity Checks**:
  - **Cryptographic Hash**: All delivered results `MUST` include a cryptographic hash (e.g., SHA-256) of the content,
    signed by the delivering agent.
  - **Verification**: The receiving agent `MUST` verify this hash against the received content.
- **Proof of Delivery**:
  - **Confirmation Message**: The receiving agent `MUST` send a `DeliveryConfirmation` message upon successful
    verification, including the verified hash and its own signature. This acts as the final verifiable proof of
    task completion.
