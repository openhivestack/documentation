---
title: Discovery & Identity
description: simple agent identification and discovery
icon: Search
---

import { Callout } from "fumadocs-ui/components/callout";
import { Mermaid } from "@/components/mdx/mermaid";

The Discovery & Identity layer provides simple agent identification and capability discovery designed for scale. No complex DID resolution or elaborate discovery protocols - just what you need to get agents talking.

## Simple Approach

<Mermaid
  chart={`
flowchart LR
    A[Generate Keys] --> B[Create Agent ID]
    B --> C[Register Capabilities]
    C --> D[Start Processing Tasks]
`}
/>

**Key Simplifications**:

- **Simple Agent IDs**: `hive:agentid:uniqueIdentifier` format
- **Ed25519 keys only**: No complex key management
- **HTTP registry**: Simple REST API for discovery
- **Minimal capability format**: 3 fields only

## Simple Agent Identity

### Agent ID Format

```
hive:agentid:uniqueIdentifier
```

**Examples**:

- `hive:agentid:abc123`
- `hive:agentid:translator-v1`
- `hive:agentid:image-processor-2024`

### Identity Creation (30 seconds)

```javascript
import crypto from "crypto";

// 1. Generate Ed25519 key pair
const { publicKey, privateKey } = crypto.generateKeyPairSync("ed25519");

// 2. Create unique identifier
const uniqueId = crypto.randomBytes(8).toString("hex");

// 3. Form Agent ID
const agentId = `hive:agentid:${uniqueId}`;

console.log(`Your Agent ID: ${agentId}`);
```

**That's it!** No complex profiles, metadata, or multiple key types needed for Tier 1.

### Key Management (Simplified)

**Tier 1 Requirements**:

- **One key type**: Ed25519 only
- **One key pair**: Public key for verification, private key for signing
- **Simple storage**: Save keys securely (environment variables or key files)

**Advanced key management** (multiple keys, rotation, etc.) is only needed for Tier 2+.

<Callout type="warning">
  **Security**: Store private keys securely. Never commit them to code or share
  them. In production, use environment variables or secure key management
  services.
</Callout>

## Simple Discovery

### Primary: HTTP Registry (Recommended)

**Registration** - Register your agent:

```http
POST /agents HTTP/1.1
Host: registry.openhive.sh
Content-Type: application/json

{
  "agent_id": "hive:agentid:translator123",
  "endpoint": "https://translator123.example.com",
  "capabilities": [
    {
      "id": "text-translation",
      "input": { "text": "string", "target_lang": "string" },
      "output": { "translated_text": "string" }
    }
  ]
}
```

**Discovery** - Find agents by capability:

```http
GET /agents?capability=text-translation HTTP/1.1
Host: registry.openhive.sh

# Response:
{
  "agents": [
    {
      "agent_id": "hive:agentid:translator123",
      "endpoint": "https://translator123.example.com",
      "capabilities": ["text-translation"]
    }
  ]
}
```

### Fallback: Direct Discovery

If you know an agent's endpoint, query it directly:

```http
GET /capabilities HTTP/1.1
Host: known-agent.example.com

# Response: Same capability format
```

### Optional: Local Discovery (mDNS)

For local networks, use mDNS service discovery (Tier 2+):

- Service type: `_hive._tcp.local`
- TXT records contain capability information

## Simple Capability Advertisement

### Minimal Capability Format

```json
{
  "capabilities": [
    {
      "id": "text-translation",
      "input": { "text": "string", "target_lang": "string" },
      "output": { "translated_text": "string" }
    },
    {
      "id": "image-resize",
      "input": { "image_url": "string", "width": "number", "height": "number" },
      "output": { "resized_image_url": "string" }
    }
  ]
}
```

## Implementation (Tier 1)

**Required for basic discovery**:

- [ ] Generate Ed25519 key pair
- [ ] Create Agent ID with `hive:agentid:` prefix
- [ ] Register with HTTP registry (optional)
- [ ] Advertise capabilities in minimal format
- [ ] Handle capability queries

**5-minute implementation**:

```javascript
// Register with registry
const registration = {
  agent_id: AGENT_ID,
  endpoint: `http://localhost:${PORT}`,
  capabilities: [
    {
      id: "text-processing",
      input: { text: "string", operation: "string" },
      output: { result: "string" },
    },
  ],
};

// POST to registry
fetch("https://registry.openhive.sh/agents", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify(registration),
});
```

<Callout type="info">
  **Scale Optimization**: The simplified capability format reduces registry
  storage requirements and speeds up discovery queries.
</Callout>

<Callout type="warning">
  **Accuracy**: Only advertise capabilities you can reliably provide.
  Misrepresenting capabilities damages trust and wastes network resources.
</Callout>
